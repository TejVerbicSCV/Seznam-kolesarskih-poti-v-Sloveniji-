{"ast":null,"code":"var _staticBlock;\nimport { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class AuthService {\n  constructor() {\n    this.currentUserSubject = new BehaviorSubject(null);\n    this.currentUser$ = this.currentUserSubject.asObservable();\n    this.loadUserFromStorage();\n  }\n  loadUserFromStorage() {\n    const user = localStorage.getItem('currentUser');\n    if (user) {\n      this.currentUserSubject.next(JSON.parse(user));\n    }\n  }\n  login(user) {\n    localStorage.setItem('currentUser', JSON.stringify(user));\n    this.currentUserSubject.next(user);\n  }\n  logout() {\n    localStorage.removeItem('currentUser');\n    this.currentUserSubject.next(null);\n  }\n  get currentUserValue() {\n    return this.currentUserSubject.value;\n  }\n  isAuthenticated() {\n    return !!this.currentUserSubject.value;\n  }\n  static #_ = _staticBlock = () => (this.ɵfac = function AuthService_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || AuthService)();\n  }, this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AuthService,\n    factory: AuthService.ɵfac,\n    providedIn: 'root'\n  }));\n}\n_staticBlock();","map":{"version":3,"names":["BehaviorSubject","AuthService","constructor","currentUserSubject","currentUser$","asObservable","loadUserFromStorage","user","localStorage","getItem","next","JSON","parse","login","setItem","stringify","logout","removeItem","currentUserValue","value","isAuthenticated","_","_staticBlock","factory","ɵfac","providedIn"],"sources":["C:\\Users\\TejWork\\Documents\\GitHub\\Seznam-kolesarskih-poti-v-Sloveniji-\\ionic-frontend\\src\\app\\services\\auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { LoginResponse } from '../models/models';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n    private currentUserSubject = new BehaviorSubject<LoginResponse | null>(null);\r\n    public currentUser$ = this.currentUserSubject.asObservable();\r\n\r\n    constructor() {\r\n        this.loadUserFromStorage();\r\n    }\r\n\r\n    private loadUserFromStorage() {\r\n        const user = localStorage.getItem('currentUser');\r\n        if (user) {\r\n            this.currentUserSubject.next(JSON.parse(user));\r\n        }\r\n    }\r\n\r\n    login(user: LoginResponse) {\r\n        localStorage.setItem('currentUser', JSON.stringify(user));\r\n        this.currentUserSubject.next(user);\r\n    }\r\n\r\n    logout() {\r\n        localStorage.removeItem('currentUser');\r\n        this.currentUserSubject.next(null);\r\n    }\r\n\r\n    get currentUserValue(): LoginResponse | null {\r\n        return this.currentUserSubject.value;\r\n    }\r\n\r\n    isAuthenticated(): boolean {\r\n        return !!this.currentUserSubject.value;\r\n    }\r\n}\r\n"],"mappings":";AACA,SAASA,eAAe,QAAoB,MAAM;;AAMlD,OAAM,MAAOC,WAAW;EAIpBC,YAAA;IAHQ,KAAAC,kBAAkB,GAAG,IAAIH,eAAe,CAAuB,IAAI,CAAC;IACrE,KAAAI,YAAY,GAAG,IAAI,CAACD,kBAAkB,CAACE,YAAY,EAAE;IAGxD,IAAI,CAACC,mBAAmB,EAAE;EAC9B;EAEQA,mBAAmBA,CAAA;IACvB,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;IAChD,IAAIF,IAAI,EAAE;MACN,IAAI,CAACJ,kBAAkB,CAACO,IAAI,CAACC,IAAI,CAACC,KAAK,CAACL,IAAI,CAAC,CAAC;IAClD;EACJ;EAEAM,KAAKA,CAACN,IAAmB;IACrBC,YAAY,CAACM,OAAO,CAAC,aAAa,EAAEH,IAAI,CAACI,SAAS,CAACR,IAAI,CAAC,CAAC;IACzD,IAAI,CAACJ,kBAAkB,CAACO,IAAI,CAACH,IAAI,CAAC;EACtC;EAEAS,MAAMA,CAAA;IACFR,YAAY,CAACS,UAAU,CAAC,aAAa,CAAC;IACtC,IAAI,CAACd,kBAAkB,CAACO,IAAI,CAAC,IAAI,CAAC;EACtC;EAEA,IAAIQ,gBAAgBA,CAAA;IAChB,OAAO,IAAI,CAACf,kBAAkB,CAACgB,KAAK;EACxC;EAEAC,eAAeA,CAAA;IACX,OAAO,CAAC,CAAC,IAAI,CAACjB,kBAAkB,CAACgB,KAAK;EAC1C;EAAC,QAAAE,CAAA,GAAAC,YAAA,GAAAA,CAAA,M;qCA/BQrB,WAAW;EAAA,G;WAAXA,WAAW;IAAAsB,OAAA,EAAXtB,WAAW,CAAAuB,IAAA;IAAAC,UAAA,EAFR;EAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}