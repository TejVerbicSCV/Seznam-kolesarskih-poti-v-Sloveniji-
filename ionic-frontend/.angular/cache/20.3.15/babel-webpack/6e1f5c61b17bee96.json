{"ast":null,"code":"var _staticBlock;\nimport { HttpParams } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ApiService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = '/api'; // Proxy forwards this to http://localhost:8080/api\n  }\n  // --- Uporabnik (Auth) ---\n  registracija(uporabnikoIme, geslo) {\n    return this.http.post(`${this.apiUrl}/uporabniki/registracija`, {\n      uporabnikoIme,\n      geslo\n    });\n  }\n  prijava(uporabnikoIme, geslo) {\n    return this.http.post(`${this.apiUrl}/uporabniki/prijava`, {\n      uporabnikoIme,\n      geslo\n    });\n  }\n  spremembaGesla(id, novoGeslo) {\n    return this.http.put(`${this.apiUrl}/uporabniki/${id}/sprememba-gesla`, {\n      novoGeslo\n    });\n  }\n  // --- Kolesarske Poti ---\n  pridobiVsePoti() {\n    return this.http.get(`${this.apiUrl}/poti`);\n  }\n  pridobiPot(id) {\n    return this.http.get(`${this.apiUrl}/poti/${id}`);\n  }\n  vnosPoti(potDTO) {\n    console.log('Sending PotDTO:', potDTO);\n    return this.http.post(`${this.apiUrl}/poti/vnos`, potDTO);\n  }\n  urediPot(id, potDTO) {\n    return this.http.put(`${this.apiUrl}/poti/${id}`, potDTO);\n  }\n  izbrisiPot(potId, izvajalecId) {\n    let params = new HttpParams().set('izvajalecId', izvajalecId.toString());\n    return this.http.delete(`${this.apiUrl}/poti/${potId}`, {\n      params\n    });\n  }\n  filtrirajPoTezavnosti(tezavnost) {\n    return this.http.get(`${this.apiUrl}/poti/filter/tezavnost/${tezavnost}`);\n  }\n  // --- Kraji & Zanimivosti ---\n  pridobiVseKraje() {\n    return this.http.get(`${this.apiUrl}/kraji`);\n  }\n  pridobiVseZanimivosti() {\n    return this.http.get(`${this.apiUrl}/zanimivosti`);\n  }\n  static #_ = _staticBlock = () => (this.ɵfac = function ApiService_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || ApiService)(i0.ɵɵinject(i1.HttpClient));\n  }, this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ApiService,\n    factory: ApiService.ɵfac,\n    providedIn: 'root'\n  }));\n}\n_staticBlock();","map":{"version":3,"names":["HttpParams","ApiService","constructor","http","apiUrl","registracija","uporabnikoIme","geslo","post","prijava","spremembaGesla","id","novoGeslo","put","pridobiVsePoti","get","pridobiPot","vnosPoti","potDTO","console","log","urediPot","izbrisiPot","potId","izvajalecId","params","set","toString","delete","filtrirajPoTezavnosti","tezavnost","pridobiVseKraje","pridobiVseZanimivosti","_","_staticBlock","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\TejWork\\Desktop\\Music\\Projekt\\Seznam-kolesarskih-poti-v-Sloveniji- - Copy\\ionic-frontend\\src\\app\\services\\api.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { KolesarskaPot, PotDTO, LoginResponse, Uporabnik, Kraj, Zanimivost, Nastavitev } from '../models/models';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class ApiService {\r\n    private apiUrl = '/api'; // Proxy forwards this to http://localhost:8080/api\r\n\r\n    constructor(private http: HttpClient) { }\r\n\r\n    // --- Uporabnik (Auth) ---\r\n\r\n    registracija(uporabnikoIme: string, geslo: string): Observable<any> {\r\n        return this.http.post(`${this.apiUrl}/uporabniki/registracija`, { uporabnikoIme, geslo });\r\n    }\r\n\r\n    prijava(uporabnikoIme: string, geslo: string): Observable<LoginResponse> {\r\n        return this.http.post<LoginResponse>(`${this.apiUrl}/uporabniki/prijava`, { uporabnikoIme, geslo });\r\n    }\r\n\r\n    spremembaGesla(id: number, novoGeslo: string): Observable<any> {\r\n        return this.http.put(`${this.apiUrl}/uporabniki/${id}/sprememba-gesla`, { novoGeslo });\r\n    }\r\n\r\n    // --- Kolesarske Poti ---\r\n\r\n    pridobiVsePoti(): Observable<KolesarskaPot[]> {\r\n        return this.http.get<KolesarskaPot[]>(`${this.apiUrl}/poti`);\r\n    }\r\n\r\n    pridobiPot(id: number | string): Observable<KolesarskaPot> {\r\n        return this.http.get<KolesarskaPot>(`${this.apiUrl}/poti/${id}`);\r\n    }\r\n\r\n    vnosPoti(potDTO: PotDTO): Observable<any> {\r\n        console.log('Sending PotDTO:', potDTO);\r\n        return this.http.post(`${this.apiUrl}/poti/vnos`, potDTO);\r\n    }\r\n\r\n    urediPot(id: number | string, potDTO: PotDTO): Observable<any> {\r\n        return this.http.put(`${this.apiUrl}/poti/${id}`, potDTO);\r\n    }\r\n\r\n    izbrisiPot(potId: number | string, izvajalecId: number): Observable<any> {\r\n        let params = new HttpParams().set('izvajalecId', izvajalecId.toString());\r\n        return this.http.delete(`${this.apiUrl}/poti/${potId}`, { params });\r\n    }\r\n\r\n    filtrirajPoTezavnosti(tezavnost: string): Observable<KolesarskaPot[]> {\r\n        return this.http.get<KolesarskaPot[]>(`${this.apiUrl}/poti/filter/tezavnost/${tezavnost}`);\r\n    }\r\n\r\n    // --- Kraji & Zanimivosti ---\r\n\r\n    pridobiVseKraje(): Observable<Kraj[]> {\r\n        return this.http.get<Kraj[]>(`${this.apiUrl}/kraji`);\r\n    }\r\n\r\n    pridobiVseZanimivosti(): Observable<Zanimivost[]> {\r\n        return this.http.get<Zanimivost[]>(`${this.apiUrl}/zanimivosti`);\r\n    }\r\n}\r\n"],"mappings":";AACA,SAAqBA,UAAU,QAAQ,sBAAsB;;;AAO7D,OAAM,MAAOC,UAAU;EAGnBC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFhB,KAAAC,MAAM,GAAG,MAAM,CAAC,CAAC;EAEe;EAExC;EAEAC,YAAYA,CAACC,aAAqB,EAAEC,KAAa;IAC7C,OAAO,IAAI,CAACJ,IAAI,CAACK,IAAI,CAAC,GAAG,IAAI,CAACJ,MAAM,0BAA0B,EAAE;MAAEE,aAAa;MAAEC;IAAK,CAAE,CAAC;EAC7F;EAEAE,OAAOA,CAACH,aAAqB,EAAEC,KAAa;IACxC,OAAO,IAAI,CAACJ,IAAI,CAACK,IAAI,CAAgB,GAAG,IAAI,CAACJ,MAAM,qBAAqB,EAAE;MAAEE,aAAa;MAAEC;IAAK,CAAE,CAAC;EACvG;EAEAG,cAAcA,CAACC,EAAU,EAAEC,SAAiB;IACxC,OAAO,IAAI,CAACT,IAAI,CAACU,GAAG,CAAC,GAAG,IAAI,CAACT,MAAM,eAAeO,EAAE,kBAAkB,EAAE;MAAEC;IAAS,CAAE,CAAC;EAC1F;EAEA;EAEAE,cAAcA,CAAA;IACV,OAAO,IAAI,CAACX,IAAI,CAACY,GAAG,CAAkB,GAAG,IAAI,CAACX,MAAM,OAAO,CAAC;EAChE;EAEAY,UAAUA,CAACL,EAAmB;IAC1B,OAAO,IAAI,CAACR,IAAI,CAACY,GAAG,CAAgB,GAAG,IAAI,CAACX,MAAM,SAASO,EAAE,EAAE,CAAC;EACpE;EAEAM,QAAQA,CAACC,MAAc;IACnBC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,MAAM,CAAC;IACtC,OAAO,IAAI,CAACf,IAAI,CAACK,IAAI,CAAC,GAAG,IAAI,CAACJ,MAAM,YAAY,EAAEc,MAAM,CAAC;EAC7D;EAEAG,QAAQA,CAACV,EAAmB,EAAEO,MAAc;IACxC,OAAO,IAAI,CAACf,IAAI,CAACU,GAAG,CAAC,GAAG,IAAI,CAACT,MAAM,SAASO,EAAE,EAAE,EAAEO,MAAM,CAAC;EAC7D;EAEAI,UAAUA,CAACC,KAAsB,EAAEC,WAAmB;IAClD,IAAIC,MAAM,GAAG,IAAIzB,UAAU,EAAE,CAAC0B,GAAG,CAAC,aAAa,EAAEF,WAAW,CAACG,QAAQ,EAAE,CAAC;IACxE,OAAO,IAAI,CAACxB,IAAI,CAACyB,MAAM,CAAC,GAAG,IAAI,CAACxB,MAAM,SAASmB,KAAK,EAAE,EAAE;MAAEE;IAAM,CAAE,CAAC;EACvE;EAEAI,qBAAqBA,CAACC,SAAiB;IACnC,OAAO,IAAI,CAAC3B,IAAI,CAACY,GAAG,CAAkB,GAAG,IAAI,CAACX,MAAM,0BAA0B0B,SAAS,EAAE,CAAC;EAC9F;EAEA;EAEAC,eAAeA,CAAA;IACX,OAAO,IAAI,CAAC5B,IAAI,CAACY,GAAG,CAAS,GAAG,IAAI,CAACX,MAAM,QAAQ,CAAC;EACxD;EAEA4B,qBAAqBA,CAAA;IACjB,OAAO,IAAI,CAAC7B,IAAI,CAACY,GAAG,CAAe,GAAG,IAAI,CAACX,MAAM,cAAc,CAAC;EACpE;EAAC,QAAA6B,CAAA,GAAAC,YAAA,GAAAA,CAAA,M;qCAvDQjC,UAAU,EAAAkC,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;EAAA,G;WAAVrC,UAAU;IAAAsC,OAAA,EAAVtC,UAAU,CAAAuC,IAAA;IAAAC,UAAA,EAFP;EAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}