{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/TejWork/Documents/GitHub/Seznam-kolesarskih-poti-v-Sloveniji-/ionic-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _staticBlock;\nimport { RouteEditorComponent } from 'src/app/components/route-editor/route-editor.component';\nimport { PasswordChangeComponent } from 'src/app/components/password-change/password-change.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/api.service\";\nimport * as i2 from \"src/app/services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@ionic/angular\";\nimport * as i5 from \"@angular/common\";\nconst _c0 = a0 => [\"/pot-detail\", a0];\nfunction HomePage_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 27)(2, \"p\", 28);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 29);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function HomePage_div_10_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.openPasswordChangeModal());\n    });\n    i0.ɵɵelement(7, \"ion-icon\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function HomePage_div_10_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.logout());\n    });\n    i0.ɵɵelement(9, \"ion-icon\", 33);\n    i0.ɵɵelementStart(10, \"span\", 34);\n    i0.ɵɵtext(11, \"Odjava\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function HomePage_div_10_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.openAddRouteModal());\n    });\n    i0.ɵɵelement(13, \"ion-icon\", 36);\n    i0.ɵɵelementStart(14, \"span\", 37);\n    i0.ɵɵtext(15, \"Dodaj pot\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.currentUser.uporabnikoIme);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.currentUser.vloga);\n  }\n}\nfunction HomePage_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 38);\n    i0.ɵɵtext(2, \"Prijava\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction HomePage_div_54_p_5_span_1_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \", \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomePage_div_54_p_5_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, HomePage_div_54_p_5_span_1_span_2_Template, 2, 0, \"span\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const kraj_r5 = ctx.$implicit;\n    const isLast_r6 = ctx.last;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", kraj_r5.ime);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !isLast_r6);\n  }\n}\nfunction HomePage_div_54_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 56);\n    i0.ɵɵtemplate(1, HomePage_div_54_p_5_span_1_Template, 3, 2, \"span\", 57);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pot_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", pot_r4.kraji);\n  }\n}\nfunction HomePage_div_54_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 58)(1, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function HomePage_div_54_div_6_Template_button_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const pot_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.openEditRouteModal(pot_r4, $event));\n    });\n    i0.ɵɵelement(2, \"ion-icon\", 60);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 61);\n    i0.ɵɵlistener(\"click\", function HomePage_div_54_div_6_Template_button_click_3_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const pot_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.confirmDelete(pot_r4.id, $event));\n    });\n    i0.ɵɵelement(4, \"ion-icon\", 62);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction HomePage_div_54_span_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 63);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const kraj_r8 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", kraj_r8.ime, \" \");\n  }\n}\nfunction HomePage_div_54_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 63);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pot_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" +\", pot_r4.kraji.length - 3, \" \");\n  }\n}\nfunction HomePage_div_54_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 39);\n    i0.ɵɵlistener(\"click\", function HomePage_div_54_Template_div_click_0_listener() {\n      const pot_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.goToDetail(pot_r4.id));\n    });\n    i0.ɵɵelementStart(1, \"div\", 40)(2, \"div\", 41)(3, \"h3\", 42);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, HomePage_div_54_p_5_Template, 2, 1, \"p\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, HomePage_div_54_div_6_Template, 5, 0, \"div\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 45)(8, \"div\", 46);\n    i0.ɵɵelement(9, \"ion-icon\", 47);\n    i0.ɵɵelementStart(10, \"span\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 46);\n    i0.ɵɵelement(13, \"ion-icon\", 48);\n    i0.ɵɵelementStart(14, \"span\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"div\", 49)(17, \"div\", 50);\n    i0.ɵɵelement(18, \"ion-icon\", 51);\n    i0.ɵɵelementStart(19, \"span\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"div\", 52);\n    i0.ɵɵtemplate(22, HomePage_div_54_span_22_Template, 2, 1, \"span\", 53);\n    i0.ɵɵpipe(23, \"slice\");\n    i0.ɵɵtemplate(24, HomePage_div_54_span_24_Template, 2, 1, \"span\", 54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"p\", 55);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const pot_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(15, _c0, pot_r4.id));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", pot_r4.ime, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", pot_r4.kraji && pot_r4.kraji.length > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.currentUser && ctx_r1.currentUser.vloga === \"admin\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", pot_r4.dolzinaKm, \" km\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", pot_r4.priporocenCas, \" ur\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.getDifficultyColor(pot_r4.tezavnost));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(pot_r4.tezavnost);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(23, 11, pot_r4.kraji, 0, 3));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", pot_r4.kraji.length > 3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(pot_r4.opis);\n  }\n}\nfunction HomePage_div_55_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 64)(1, \"p\", 65);\n    i0.ɵɵtext(2, \"Ni najdenih kolesarskih poti.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 66);\n    i0.ɵɵlistener(\"click\", function HomePage_div_55_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.loadPoti());\n    });\n    i0.ɵɵtext(4, \"Osve\\u017Ei\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class HomePage {\n  constructor(apiService, authService, router, modalController, alertController, toastController) {\n    this.apiService = apiService;\n    this.authService = authService;\n    this.router = router;\n    this.modalController = modalController;\n    this.alertController = alertController;\n    this.toastController = toastController;\n    this.poti = [];\n    this.filteredPoti = [];\n    this.currentUser = null;\n    this.currentFilter = 'VSE'; // VSE, LAHKO, SREDNJE, TEZKO\n    this.stats = {\n      count: 0,\n      distance: 0,\n      duration: 0\n    };\n  }\n  ngOnInit() {\n    this.authService.currentUser$.subscribe(user => {\n      this.currentUser = user;\n    });\n  }\n  ionViewWillEnter() {\n    this.loadPoti();\n  }\n  loadPoti() {\n    this.apiService.pridobiVsePoti().subscribe({\n      next: data => {\n        this.poti = data;\n        this.applyFilter();\n        this.calculateStats();\n      },\n      error: err => {\n        console.error('Error loading paths', err);\n      }\n    });\n  }\n  applyFilter() {\n    if (this.currentFilter === 'VSE') {\n      this.filteredPoti = this.poti;\n    } else {\n      this.filteredPoti = this.poti.filter(p => p.tezavnost === this.currentFilter);\n    }\n  }\n  setFilter(filter) {\n    this.currentFilter = filter;\n    this.applyFilter();\n  }\n  calculateStats() {\n    this.stats.count = this.poti.length;\n    this.stats.distance = this.poti.reduce((acc, curr) => acc + (curr.dolzinaKm || 0), 0);\n    if (this.poti.length > 0) {\n      const totalHours = this.poti.reduce((acc, curr) => {\n        const hours = parseFloat(curr.priporocenCas);\n        return acc + (isNaN(hours) ? 0 : hours);\n      }, 0);\n      this.stats.duration = totalHours / this.poti.length;\n    } else {\n      this.stats.duration = 0;\n    }\n  }\n  logout() {\n    this.authService.logout();\n    this.router.navigate(['/login']);\n  }\n  openAddRouteModal() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (!_this.currentUser) {\n        _this.router.navigate(['/login']);\n        return;\n      }\n      const modal = yield _this.modalController.create({\n        component: RouteEditorComponent\n      });\n      modal.onDidDismiss().then(result => {\n        if (result.data === 'saved') {\n          _this.loadPoti();\n          _this.presentToast('Pot uspešno dodana', 'success');\n        }\n      });\n      return yield modal.present();\n    })();\n  }\n  openEditRouteModal(pot, event) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      event.stopPropagation();\n      if (!_this2.currentUser) return;\n      const modal = yield _this2.modalController.create({\n        component: RouteEditorComponent,\n        componentProps: {\n          pot: pot\n        }\n      });\n      modal.onDidDismiss().then(result => {\n        if (result.data === 'saved') {\n          _this2.loadPoti();\n          _this2.presentToast('Pot uspešno urejena', 'success');\n        }\n      });\n      return yield modal.present();\n    })();\n  }\n  openPasswordChangeModal() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this3.currentUser) return;\n      const modal = yield _this3.modalController.create({\n        component: PasswordChangeComponent,\n        cssClass: 'auto-height-modal'\n      });\n      return yield modal.present();\n    })();\n  }\n  goToDetail(id) {\n    console.log('Navigating to detail for ID:', id);\n    this.router.navigate(['/pot-detail', id]);\n  }\n  confirmDelete(id, event) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      event.stopPropagation();\n      const alert = yield _this4.alertController.create({\n        header: 'Izbris poti',\n        message: 'Ali ste prepričani, da želite izbrisati to pot?',\n        buttons: [{\n          text: 'Prekliči',\n          role: 'cancel'\n        }, {\n          text: 'Izbriši',\n          handler: () => {\n            _this4.deleteRoute(id);\n          }\n        }]\n      });\n      yield alert.present();\n    })();\n  }\n  deleteRoute(id) {\n    if (!this.currentUser) return;\n    this.apiService.izbrisiPot(id, this.currentUser.id).subscribe({\n      next: () => {\n        this.loadPoti();\n        this.presentToast('Pot izbrisana', 'success');\n      },\n      error: err => {\n        const errorMsg = err.error?.error || err.error?.message || err.message || 'Neznana napaka';\n        this.presentToast('Napaka pri brisanju: ' + errorMsg, 'danger');\n      }\n    });\n  }\n  presentToast(message, color) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      const toast = yield _this5.toastController.create({\n        message: message,\n        duration: 2000,\n        color: color,\n        position: 'bottom'\n      });\n      toast.present();\n    })();\n  }\n  getDifficultyColor(difficulty) {\n    switch (difficulty) {\n      case 'LAHKO':\n        return 'bg-green-100 text-green-800 border-green-200';\n      case 'SREDNJE':\n        return 'bg-yellow-100 text-yellow-800 border-yellow-200';\n      case 'TEZKO':\n        return 'bg-red-100 text-red-800 border-red-200';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  }\n  static #_ = _staticBlock = () => (this.ɵfac = function HomePage_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || HomePage)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.ModalController), i0.ɵɵdirectiveInject(i4.AlertController), i0.ɵɵdirectiveInject(i4.ToastController));\n  }, this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomePage,\n    selectors: [[\"app-home\"]],\n    standalone: false,\n    decls: 56,\n    vars: 41,\n    consts: [[1, \"ion-no-border\", \"shadow-sm\", \"bg-white\"], [1, \"max-w-7xl\", \"mx-auto\", \"px-6\", \"py-4\", \"flex\", \"items-center\", \"justify-between\"], [1, \"flex\", \"items-center\", \"gap-4\"], [1, \"p-2\", \"bg-primary\", \"rounded-lg\"], [\"name\", \"bicycle\", 1, \"text-white\", \"text-3xl\"], [1, \"text-2xl\", \"font-bold\", \"app-text\"], [1, \"text-sm\", \"text-gray-600\"], [\"class\", \"flex items-center gap-3\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"bg-gray-50\", \"font-app\", 3, \"fullscreen\"], [1, \"max-w-7xl\", \"mx-auto\", \"px-6\", \"py-8\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-3\", \"gap-6\", \"mb-8\", \"bg-white\", \"p-6\", \"rounded-xl\", \"border\", \"border-gray-200\", \"shadow-sm\"], [1, \"flex\", \"items-center\", \"gap-3\"], [1, \"p-2\", \"bg-primary-light\", \"rounded-lg\"], [\"name\", \"bicycle\", 1, \"text-primary\", \"text-xl\"], [1, \"text-xl\", \"font-bold\", \"text-gray-900\"], [1, \"p-2\", \"bg-green-100\", \"rounded-lg\"], [\"name\", \"map-outline\", 1, \"text-green-600\", \"text-xl\"], [1, \"p-2\", \"bg-purple-100\", \"rounded-lg\"], [\"name\", \"time-outline\", 1, \"text-purple-600\", \"text-xl\"], [1, \"mb-6\"], [1, \"text-sm\", \"font-medium\", \"text-gray-700\", \"mb-2\"], [1, \"flex\", \"flex-wrap\", \"gap-2\"], [1, \"px-4\", \"py-2\", \"rounded-md\", \"text-sm\", \"border\", \"border-gray-300\", \"hover:bg-gray-50\", \"transition-colors\", 3, \"click\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"lg:grid-cols-3\", \"gap-4\"], [\"class\", \"bg-white p-4 rounded-lg border border-gray-200 cursor-pointer hover:shadow-md transition-all hover:bg-primary-light group\", 3, \"routerLink\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center\", 4, \"ngIf\"], [1, \"text-right\", \"mr-2\", \"hidden\", \"md:block\"], [1, \"text-sm\", \"font-medium\", \"text-gray-900\"], [1, \"text-xs\", \"text-gray-600\"], [1, \"p-2\", \"md:px-3\", \"md:py-2\", \"bg-gray-100\", \"hover:bg-gray-200\", \"rounded-lg\", \"flex\", \"items-center\", \"gap-2\", \"transition-colors\", 3, \"click\"], [\"name\", \"lock-closed-outline\", 1, \"text-lg\"], [1, \"p-2\", \"md:px-3\", \"md:py-2\", \"bg-gray-100\", \"hover:bg-gray-200\", \"rounded-lg\", \"flex\", \"items-center\", \"gap-2\", \"transition-colors\", \"text-gray-700\", 3, \"click\"], [\"name\", \"log-out-outline\", 1, \"text-lg\"], [1, \"hidden\", \"md:inline\", \"text-sm\", \"font-medium\"], [1, \"px-4\", \"py-2\", \"bg-primary\", \"hover:bg-primary-shade\", \"text-white\", \"rounded-lg\", \"shadow-sm\", \"flex\", \"items-center\", \"gap-2\", \"transition-colors\", 3, \"click\"], [\"name\", \"add-outline\", 1, \"text-xl\"], [1, \"hidden\", \"md:inline\", \"font-medium\"], [\"routerLink\", \"/login\", 1, \"px-4\", \"py-2\", \"bg-primary\", \"text-white\", \"rounded-lg\"], [1, \"bg-white\", \"p-4\", \"rounded-lg\", \"border\", \"border-gray-200\", \"cursor-pointer\", \"hover:shadow-md\", \"transition-all\", \"hover:bg-primary-light\", \"group\", 3, \"click\", \"routerLink\"], [1, \"flex\", \"justify-between\", \"items-start\", \"mb-3\", \"gap-2\"], [1, \"min-w-0\", \"flex-1\"], [1, \"text-lg\", \"font-semibold\", \"text-gray-900\", \"group-hover:text-primary-shade\", \"transition-colors\", \"truncate\"], [\"class\", \"text-sm text-gray-600 truncate\", 4, \"ngIf\"], [\"class\", \"flex gap-1\", 4, \"ngIf\"], [1, \"flex\", \"gap-4\", \"mb-3\", \"text-sm\", \"text-gray-700\"], [1, \"flex\", \"items-center\", \"gap-1\"], [\"name\", \"bicycle\", 1, \"text-gray-500\"], [\"name\", \"time-outline\", 1, \"text-gray-500\"], [1, \"flex\", \"items-center\", \"gap-2\", \"mb-3\"], [1, \"flex\", \"items-center\", \"gap-1\", \"border\", \"rounded-full\", \"px-2\", \"py-0.5\", \"text-xs\", \"font-medium\", 3, \"ngClass\"], [\"name\", \"stats-chart\", 1, \"text-xs\"], [1, \"flex\", \"flex-wrap\", \"gap-1\", \"mb-2\"], [\"class\", \"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs rounded\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs rounded\", 4, \"ngIf\"], [1, \"text-sm\", \"text-gray-600\", \"line-clamp-2\"], [1, \"text-sm\", \"text-gray-600\", \"truncate\"], [4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"gap-1\"], [1, \"p-2\", \"rounded-md\", \"text-blue-600\", \"hover:bg-blue-100\", \"transition-colors\", 3, \"click\"], [\"name\", \"pencil\", 1, \"text-lg\"], [1, \"p-2\", \"rounded-md\", \"text-red-600\", \"hover:bg-red-100\", \"transition-colors\", 3, \"click\"], [\"name\", \"trash\", 1, \"text-lg\"], [1, \"px-2\", \"py-0.5\", \"bg-gray-100\", \"text-gray-700\", \"text-xs\", \"rounded\"], [1, \"border-2\", \"border-dashed\", \"border-gray-300\", \"rounded-lg\", \"p-12\", \"text-center\"], [1, \"text-gray-500\", \"text-lg\"], [1, \"mt-4\", \"text-primary\", \"font-medium\", 3, \"click\"]],\n    template: function HomePage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵelement(4, \"ion-icon\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\")(6, \"h1\", 5);\n        i0.ɵɵtext(7, \"Slovenske kolesarske poti\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"p\", 6);\n        i0.ɵɵtext(9, \"Uradna baza podatkov kolesarskih poti\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(10, HomePage_div_10_Template, 16, 2, \"div\", 7)(11, HomePage_div_11_Template, 3, 0, \"div\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"ion-content\", 9)(13, \"div\", 10)(14, \"div\", 11)(15, \"div\", 12)(16, \"div\", 13);\n        i0.ɵɵelement(17, \"ion-icon\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\")(19, \"p\", 6);\n        i0.ɵɵtext(20, \"Skupaj poti\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"p\", 15);\n        i0.ɵɵtext(22);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"div\", 12)(24, \"div\", 16);\n        i0.ɵɵelement(25, \"ion-icon\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\")(27, \"p\", 6);\n        i0.ɵɵtext(28, \"Skupna razdalja\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"p\", 15);\n        i0.ɵɵtext(30);\n        i0.ɵɵpipe(31, \"number\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(32, \"div\", 12)(33, \"div\", 18);\n        i0.ɵɵelement(34, \"ion-icon\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"div\")(36, \"p\", 6);\n        i0.ɵɵtext(37, \"Povp. trajanje\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"p\", 15);\n        i0.ɵɵtext(39);\n        i0.ɵɵpipe(40, \"number\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(41, \"div\", 20)(42, \"p\", 21);\n        i0.ɵɵtext(43, \"Filtrirajte po zahtevnosti:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"div\", 22)(45, \"button\", 23);\n        i0.ɵɵlistener(\"click\", function HomePage_Template_button_click_45_listener() {\n          return ctx.setFilter(\"VSE\");\n        });\n        i0.ɵɵtext(46);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"button\", 23);\n        i0.ɵɵlistener(\"click\", function HomePage_Template_button_click_47_listener() {\n          return ctx.setFilter(\"LAHKO\");\n        });\n        i0.ɵɵtext(48, \" Lahko \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"button\", 23);\n        i0.ɵɵlistener(\"click\", function HomePage_Template_button_click_49_listener() {\n          return ctx.setFilter(\"SREDNJE\");\n        });\n        i0.ɵɵtext(50, \" Srednje \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"button\", 23);\n        i0.ɵɵlistener(\"click\", function HomePage_Template_button_click_51_listener() {\n          return ctx.setFilter(\"TEZKO\");\n        });\n        i0.ɵɵtext(52, \" Te\\u017Eko \");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(53, \"div\", 24);\n        i0.ɵɵtemplate(54, HomePage_div_54_Template, 27, 17, \"div\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(55, HomePage_div_55_Template, 5, 0, \"div\", 26);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", ctx.currentUser);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", !ctx.currentUser);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"fullscreen\", true);\n        i0.ɵɵadvance(10);\n        i0.ɵɵtextInterpolate(ctx.stats.count);\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(31, 35, ctx.stats.distance, \"1.0-1\"), \" km\");\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(40, 38, ctx.stats.duration, \"1.0-1\"), \" ur\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵclassProp(\"bg-primary\", ctx.currentFilter === \"VSE\")(\"text-white\", ctx.currentFilter === \"VSE\")(\"bg-white\", ctx.currentFilter !== \"VSE\")(\"text-gray-700\", ctx.currentFilter !== \"VSE\");\n        i0.ɵɵadvance();\n        i0.ɵɵtextInterpolate1(\" Vse (\", ctx.poti.length, \") \");\n        i0.ɵɵadvance();\n        i0.ɵɵclassProp(\"bg-green-600\", ctx.currentFilter === \"LAHKO\")(\"text-white\", ctx.currentFilter === \"LAHKO\")(\"bg-white\", ctx.currentFilter !== \"LAHKO\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"bg-yellow-600\", ctx.currentFilter === \"SREDNJE\")(\"text-white\", ctx.currentFilter === \"SREDNJE\")(\"bg-white\", ctx.currentFilter !== \"SREDNJE\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"bg-red-600\", ctx.currentFilter === \"TEZKO\")(\"text-white\", ctx.currentFilter === \"TEZKO\")(\"bg-white\", ctx.currentFilter !== \"TEZKO\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.filteredPoti);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.filteredPoti.length === 0);\n      }\n    },\n    dependencies: [i5.NgClass, i5.NgForOf, i5.NgIf, i4.IonContent, i4.IonHeader, i4.IonIcon, i4.RouterLinkDelegate, i3.RouterLink, i5.SlicePipe, i5.DecimalPipe],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  }));\n}\n_staticBlock();","map":{"version":3,"names":["RouteEditorComponent","PasswordChangeComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","HomePage_div_10_Template_button_click_6_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","openPasswordChangeModal","ɵɵelement","HomePage_div_10_Template_button_click_8_listener","logout","HomePage_div_10_Template_button_click_12_listener","openAddRouteModal","ɵɵadvance","ɵɵtextInterpolate","currentUser","uporabnikoIme","vloga","ɵɵtemplate","HomePage_div_54_p_5_span_1_span_2_Template","ɵɵtextInterpolate1","kraj_r5","ime","ɵɵproperty","isLast_r6","HomePage_div_54_p_5_span_1_Template","pot_r4","kraji","HomePage_div_54_div_6_Template_button_click_1_listener","$event","_r7","$implicit","openEditRouteModal","HomePage_div_54_div_6_Template_button_click_3_listener","confirmDelete","id","kraj_r8","length","HomePage_div_54_Template_div_click_0_listener","_r3","goToDetail","HomePage_div_54_p_5_Template","HomePage_div_54_div_6_Template","HomePage_div_54_span_22_Template","HomePage_div_54_span_24_Template","ɵɵpureFunction1","_c0","dolzinaKm","priporocenCas","getDifficultyColor","tezavnost","ɵɵpipeBind3","opis","HomePage_div_55_Template_button_click_3_listener","_r9","loadPoti","HomePage","constructor","apiService","authService","router","modalController","alertController","toastController","poti","filteredPoti","currentFilter","stats","count","distance","duration","ngOnInit","currentUser$","subscribe","user","ionViewWillEnter","pridobiVsePoti","next","data","applyFilter","calculateStats","error","err","console","filter","p","setFilter","reduce","acc","curr","totalHours","hours","parseFloat","isNaN","navigate","_this","_asyncToGenerator","modal","create","component","onDidDismiss","then","result","presentToast","present","pot","event","_this2","stopPropagation","componentProps","_this3","cssClass","log","_this4","alert","header","message","buttons","text","role","handler","deleteRoute","izbrisiPot","errorMsg","color","_this5","toast","position","difficulty","_","_staticBlock","ɵɵdirectiveInject","i1","ApiService","i2","AuthService","i3","Router","i4","ModalController","AlertController","ToastController","selectors","standalone","decls","vars","consts","template","HomePage_Template","rf","ctx","HomePage_div_10_Template","HomePage_div_11_Template","HomePage_Template_button_click_45_listener","HomePage_Template_button_click_47_listener","HomePage_Template_button_click_49_listener","HomePage_Template_button_click_51_listener","HomePage_div_54_Template","HomePage_div_55_Template","ɵɵpipeBind2","ɵɵclassProp"],"sources":["C:\\Users\\TejWork\\Documents\\GitHub\\Seznam-kolesarskih-poti-v-Sloveniji-\\ionic-frontend\\src\\app\\pages\\home\\home.page.ts","C:\\Users\\TejWork\\Documents\\GitHub\\Seznam-kolesarskih-poti-v-Sloveniji-\\ionic-frontend\\src\\app\\pages\\home\\home.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { KolesarskaPot, LoginResponse } from 'src/app/models/models';\r\nimport { ModalController, AlertController, ToastController } from '@ionic/angular';\r\nimport { RouteEditorComponent } from 'src/app/components/route-editor/route-editor.component';\r\nimport { PasswordChangeComponent } from 'src/app/components/password-change/password-change.component';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.page.html',\r\n  styleUrls: ['./home.page.scss'],\r\n  standalone: false\r\n})\r\nexport class HomePage implements OnInit {\r\n  poti: KolesarskaPot[] = [];\r\n  filteredPoti: KolesarskaPot[] = [];\r\n  currentUser: LoginResponse | null = null;\r\n  currentFilter: string = 'VSE'; // VSE, LAHKO, SREDNJE, TEZKO\r\n\r\n  stats = {\r\n    count: 0,\r\n    distance: 0,\r\n    duration: 0\r\n  };\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private authService: AuthService,\r\n    private router: Router,\r\n    private modalController: ModalController,\r\n    private alertController: AlertController,\r\n    private toastController: ToastController\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.authService.currentUser$.subscribe(user => {\r\n      this.currentUser = user;\r\n    });\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.loadPoti();\r\n  }\r\n\r\n  loadPoti() {\r\n    this.apiService.pridobiVsePoti().subscribe({\r\n      next: (data) => {\r\n        this.poti = data;\r\n        this.applyFilter();\r\n        this.calculateStats();\r\n      },\r\n      error: (err) => {\r\n        console.error('Error loading paths', err);\r\n      }\r\n    });\r\n  }\r\n\r\n  applyFilter() {\r\n    if (this.currentFilter === 'VSE') {\r\n      this.filteredPoti = this.poti;\r\n    } else {\r\n      this.filteredPoti = this.poti.filter(p => p.tezavnost === this.currentFilter);\r\n    }\r\n  }\r\n\r\n  setFilter(filter: string) {\r\n    this.currentFilter = filter;\r\n    this.applyFilter();\r\n  }\r\n\r\n  calculateStats() {\r\n    this.stats.count = this.poti.length;\r\n    this.stats.distance = this.poti.reduce((acc, curr) => acc + (curr.dolzinaKm || 0), 0);\r\n\r\n    if (this.poti.length > 0) {\r\n      const totalHours = this.poti.reduce((acc, curr) => {\r\n        const hours = parseFloat(curr.priporocenCas);\r\n        return acc + (isNaN(hours) ? 0 : hours);\r\n      }, 0);\r\n      this.stats.duration = totalHours / this.poti.length;\r\n    } else {\r\n      this.stats.duration = 0;\r\n    }\r\n  }\r\n\r\n  logout() {\r\n    this.authService.logout();\r\n    this.router.navigate(['/login']);\r\n  }\r\n\r\n  async openAddRouteModal() {\r\n    if (!this.currentUser) {\r\n      this.router.navigate(['/login']);\r\n      return;\r\n    }\r\n\r\n    const modal = await this.modalController.create({\r\n      component: RouteEditorComponent\r\n    });\r\n\r\n    modal.onDidDismiss().then((result) => {\r\n      if (result.data === 'saved') {\r\n        this.loadPoti();\r\n        this.presentToast('Pot uspešno dodana', 'success');\r\n      }\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n  async openEditRouteModal(pot: KolesarskaPot, event: Event) {\r\n    event.stopPropagation();\r\n    if (!this.currentUser) return;\r\n\r\n    const modal = await this.modalController.create({\r\n      component: RouteEditorComponent,\r\n      componentProps: { pot: pot }\r\n    });\r\n\r\n    modal.onDidDismiss().then((result) => {\r\n      if (result.data === 'saved') {\r\n        this.loadPoti();\r\n        this.presentToast('Pot uspešno urejena', 'success');\r\n      }\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n  async openPasswordChangeModal() {\r\n    if (!this.currentUser) return;\r\n\r\n    const modal = await this.modalController.create({\r\n      component: PasswordChangeComponent,\r\n      cssClass: 'auto-height-modal'\r\n    });\r\n\r\n    return await modal.present();\r\n  }\r\n\r\n  goToDetail(id: number | string) {\r\n    console.log('Navigating to detail for ID:', id);\r\n    this.router.navigate(['/pot-detail', id]);\r\n  }\r\n\r\n  async confirmDelete(id: number | string, event: Event) {\r\n    event.stopPropagation();\r\n    const alert = await this.alertController.create({\r\n      header: 'Izbris poti',\r\n      message: 'Ali ste prepričani, da želite izbrisati to pot?',\r\n      buttons: [\r\n        {\r\n          text: 'Prekliči',\r\n          role: 'cancel'\r\n        },\r\n        {\r\n          text: 'Izbriši',\r\n          handler: () => {\r\n            this.deleteRoute(id);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  deleteRoute(id: number | string) {\r\n    if (!this.currentUser) return;\r\n    this.apiService.izbrisiPot(id, this.currentUser.id).subscribe({\r\n      next: () => {\r\n        this.loadPoti();\r\n        this.presentToast('Pot izbrisana', 'success');\r\n      },\r\n      error: (err) => {\r\n        const errorMsg = err.error?.error || err.error?.message || err.message || 'Neznana napaka';\r\n        this.presentToast('Napaka pri brisanju: ' + errorMsg, 'danger');\r\n      }\r\n    });\r\n  }\r\n\r\n  async presentToast(message: string, color: string) {\r\n    const toast = await this.toastController.create({\r\n      message: message,\r\n      duration: 2000,\r\n      color: color,\r\n      position: 'bottom'\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  getDifficultyColor(difficulty: string): string {\r\n    switch (difficulty) {\r\n      case 'LAHKO': return 'bg-green-100 text-green-800 border-green-200';\r\n      case 'SREDNJE': return 'bg-yellow-100 text-yellow-800 border-yellow-200';\r\n      case 'TEZKO': return 'bg-red-100 text-red-800 border-red-200';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  }\r\n}\r\n","<ion-header class=\"ion-no-border shadow-sm bg-white\">\r\n  <div class=\"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between\">\r\n    <!-- Logo Section -->\r\n    <div class=\"flex items-center gap-4\">\r\n      <div class=\"p-2 bg-primary rounded-lg\">\r\n        <ion-icon name=\"bicycle\" class=\"text-white text-3xl\"></ion-icon>\r\n      </div>\r\n      <div>\r\n        <h1 class=\"text-2xl font-bold app-text\">Slovenske kolesarske poti</h1>\r\n        <p class=\"text-sm text-gray-600\">Uradna baza podatkov kolesarskih poti</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- User Info & Actions -->\r\n    <div class=\"flex items-center gap-3\" *ngIf=\"currentUser\">\r\n      <div class=\"text-right mr-2 hidden md:block\">\r\n        <p class=\"text-sm font-medium text-gray-900\">{{ currentUser.uporabnikoIme }}</p>\r\n        <p class=\"text-xs text-gray-600\">{{ currentUser.vloga }}</p>\r\n      </div>\r\n\r\n      <button (click)=\"openPasswordChangeModal()\"\r\n        class=\"p-2 md:px-3 md:py-2 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 transition-colors\">\r\n        <ion-icon name=\"lock-closed-outline\" class=\"text-lg\"></ion-icon>\r\n      </button>\r\n\r\n      <button (click)=\"logout()\"\r\n        class=\"p-2 md:px-3 md:py-2 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 transition-colors text-gray-700\">\r\n        <ion-icon name=\"log-out-outline\" class=\"text-lg\"></ion-icon>\r\n        <span class=\"hidden md:inline text-sm font-medium\">Odjava</span>\r\n      </button>\r\n\r\n      <button (click)=\"openAddRouteModal()\"\r\n        class=\"px-4 py-2 bg-primary hover:bg-primary-shade text-white rounded-lg shadow-sm flex items-center gap-2 transition-colors\">\r\n        <ion-icon name=\"add-outline\" class=\"text-xl\"></ion-icon>\r\n        <span class=\"hidden md:inline font-medium\">Dodaj pot</span>\r\n      </button>\r\n    </div>\r\n    <div *ngIf=\"!currentUser\">\r\n      <button routerLink=\"/login\" class=\"px-4 py-2 bg-primary text-white rounded-lg\">Prijava</button>\r\n    </div>\r\n  </div>\r\n</ion-header>\r\n\r\n<ion-content [fullscreen]=\"true\" class=\"bg-gray-50 font-app\">\r\n  <div class=\"max-w-7xl mx-auto px-6 py-8\">\r\n\r\n    <!-- Stats Bar -->\r\n    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 bg-white p-6 rounded-xl border border-gray-200 shadow-sm\">\r\n      <div class=\"flex items-center gap-3\">\r\n        <div class=\"p-2 bg-primary-light rounded-lg\">\r\n          <ion-icon name=\"bicycle\" class=\"text-primary text-xl\"></ion-icon>\r\n        </div>\r\n        <div>\r\n          <p class=\"text-sm text-gray-600\">Skupaj poti</p>\r\n          <p class=\"text-xl font-bold text-gray-900\">{{ stats.count }}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"flex items-center gap-3\">\r\n        <div class=\"p-2 bg-green-100 rounded-lg\">\r\n          <ion-icon name=\"map-outline\" class=\"text-green-600 text-xl\"></ion-icon>\r\n        </div>\r\n        <div>\r\n          <p class=\"text-sm text-gray-600\">Skupna razdalja</p>\r\n          <p class=\"text-xl font-bold text-gray-900\">{{ stats.distance | number:'1.0-1' }} km</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"flex items-center gap-3\">\r\n        <div class=\"p-2 bg-purple-100 rounded-lg\">\r\n          <ion-icon name=\"time-outline\" class=\"text-purple-600 text-xl\"></ion-icon>\r\n        </div>\r\n        <div>\r\n          <p class=\"text-sm text-gray-600\">Povp. trajanje</p>\r\n          <p class=\"text-xl font-bold text-gray-900\">{{ stats.duration | number:'1.0-1' }} ur</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Filter Bar -->\r\n    <div class=\"mb-6\">\r\n      <p class=\"text-sm font-medium text-gray-700 mb-2\">Filtrirajte po zahtevnosti:</p>\r\n      <div class=\"flex flex-wrap gap-2\">\r\n        <button (click)=\"setFilter('VSE')\" [class.bg-primary]=\"currentFilter === 'VSE'\"\r\n          [class.text-white]=\"currentFilter === 'VSE'\" [class.bg-white]=\"currentFilter !== 'VSE'\"\r\n          [class.text-gray-700]=\"currentFilter !== 'VSE'\"\r\n          class=\"px-4 py-2 rounded-md text-sm border border-gray-300 hover:bg-gray-50 transition-colors\">\r\n          Vse ({{ poti.length }})\r\n        </button>\r\n        <button (click)=\"setFilter('LAHKO')\" [class.bg-green-600]=\"currentFilter === 'LAHKO'\"\r\n          [class.text-white]=\"currentFilter === 'LAHKO'\" [class.bg-white]=\"currentFilter !== 'LAHKO'\"\r\n          class=\"px-4 py-2 rounded-md text-sm border border-gray-300 hover:bg-gray-50 transition-colors\">\r\n          Lahko\r\n        </button>\r\n        <button (click)=\"setFilter('SREDNJE')\" [class.bg-yellow-600]=\"currentFilter === 'SREDNJE'\"\r\n          [class.text-white]=\"currentFilter === 'SREDNJE'\" [class.bg-white]=\"currentFilter !== 'SREDNJE'\"\r\n          class=\"px-4 py-2 rounded-md text-sm border border-gray-300 hover:bg-gray-50 transition-colors\">\r\n          Srednje\r\n        </button>\r\n        <button (click)=\"setFilter('TEZKO')\" [class.bg-red-600]=\"currentFilter === 'TEZKO'\"\r\n          [class.text-white]=\"currentFilter === 'TEZKO'\" [class.bg-white]=\"currentFilter !== 'TEZKO'\"\r\n          class=\"px-4 py-2 rounded-md text-sm border border-gray-300 hover:bg-gray-50 transition-colors\">\r\n          Težko\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Route Grid -->\r\n    <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n      <div *ngFor=\"let pot of filteredPoti\" (click)=\"goToDetail(pot.id)\" [routerLink]=\"['/pot-detail', pot.id]\"\r\n        class=\"bg-white p-4 rounded-lg border border-gray-200 cursor-pointer hover:shadow-md transition-all hover:bg-primary-light group\">\r\n        <div class=\"flex justify-between items-start mb-3 gap-2\">\r\n          <div class=\"min-w-0 flex-1\">\r\n            <h3 class=\"text-lg font-semibold text-gray-900 group-hover:text-primary-shade transition-colors truncate\">\r\n              {{ pot.ime }}\r\n            </h3>\r\n            <!-- Assuming Region/Kraj is available in kraji[0] -->\r\n            <!-- List all cities -->\r\n            <p class=\"text-sm text-gray-600 truncate\" *ngIf=\"pot.kraji && pot.kraji.length > 0\">\r\n              <span *ngFor=\"let kraj of pot.kraji; let isLast = last\">\r\n                {{ kraj.ime }}<span *ngIf=\"!isLast\">, </span>\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div class=\"flex gap-1\" *ngIf=\"currentUser && currentUser.vloga === 'admin'\">\r\n            <button (click)=\"openEditRouteModal(pot, $event)\"\r\n              class=\"p-2 rounded-md text-blue-600 hover:bg-blue-100 transition-colors\">\r\n              <ion-icon name=\"pencil\" class=\"text-lg\"></ion-icon>\r\n            </button>\r\n            <button (click)=\"confirmDelete(pot.id, $event)\"\r\n              class=\"p-2 rounded-md text-red-600 hover:bg-red-100 transition-colors\">\r\n              <ion-icon name=\"trash\" class=\"text-lg\"></ion-icon>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"flex gap-4 mb-3 text-sm text-gray-700\">\r\n          <div class=\"flex items-center gap-1\">\r\n            <ion-icon name=\"bicycle\" class=\"text-gray-500\"></ion-icon>\r\n            <span>{{ pot.dolzinaKm }} km</span>\r\n          </div>\r\n          <div class=\"flex items-center gap-1\">\r\n            <ion-icon name=\"time-outline\" class=\"text-gray-500\"></ion-icon>\r\n            <span>{{ pot.priporocenCas }} ur</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"flex items-center gap-2 mb-3\">\r\n          <div class=\"flex items-center gap-1 border rounded-full px-2 py-0.5 text-xs font-medium\"\r\n            [ngClass]=\"getDifficultyColor(pot.tezavnost)\">\r\n            <ion-icon name=\"stats-chart\" class=\"text-xs\"></ion-icon>\r\n            <span>{{ pot.tezavnost }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"flex flex-wrap gap-1 mb-2\">\r\n          <span *ngFor=\"let kraj of pot.kraji | slice:0:3\"\r\n            class=\"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs rounded\">\r\n            {{ kraj.ime }}\r\n          </span>\r\n          <span *ngIf=\"pot.kraji.length > 3\" class=\"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs rounded\">\r\n            +{{ pot.kraji.length - 3 }}\r\n          </span>\r\n        </div>\r\n\r\n        <p class=\"text-sm text-gray-600 line-clamp-2\">{{ pot.opis }}</p>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Empty State -->\r\n    <div *ngIf=\"filteredPoti.length === 0\" class=\"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center\">\r\n      <p class=\"text-gray-500 text-lg\">Ni najdenih kolesarskih poti.</p>\r\n      <button (click)=\"loadPoti()\" class=\"mt-4 text-primary font-medium\">Osveži</button>\r\n    </div>\r\n\r\n  </div>\r\n</ion-content>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}